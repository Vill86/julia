<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–∞—Å ‚Äî –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #0c0e2b;
      color: #e0f7fa;
      min-height: 100vh;
      overflow: hidden;
      position: relative;
    }

    /* –ó–≤—ë–∑–¥–Ω–æ–µ –Ω–µ–±–æ */
    .stars {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none;
    }
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle var(--duration, 3s) infinite ease-in-out;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 1; }
    }

    .container {
      position: relative;
      z-index: 10;
      background: rgba(15, 23, 42, 0.85);
      backdrop-filter: blur(10px);
      border-radius: 25px;
      padding: 40px;
      max-width: 650px;
      width: 90%;
      margin: 40px auto;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      text-align: center;
    }

    h1 {
      font-size: 2.3rem;
      margin-bottom: 10px;
      color: #88d1ff;
      text-shadow: 0 0 10px rgba(136, 209, 255, 0.4);
    }

    .subtitle {
      color: #a0aec0;
      margin-bottom: 25px;
    }

    .progress-bar {
      height: 10px;
      background: #2d3748;
      border-radius: 5px;
      margin: 20px 0;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(to right, #4fd1c5, #63b3ed);
      width: 10%;
      transition: width 0.5s ease;
    }

    .question {
      font-size: 1.4rem;
      margin: 25px 0;
      line-height: 1.5;
    }

    .options {
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
      margin: 25px 0;
    }

    .option {
      padding: 16px;
      background: rgba(50, 60, 90, 0.6);
      border: 2px solid transparent;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.3s;
      text-align: left;
      padding-left: 20px;
      font-size: 1.05rem;
    }

    .option:hover {
      background: rgba(70, 90, 130, 0.7);
    }

    .option.selected {
      border-color: #63b3ed;
      background: rgba(49, 108, 192, 0.3);
    }

    button {
      padding: 14px 35px;
      font-size: 1.15rem;
      background: linear-gradient(to right, #4fd1c5, #63b3ed);
      color: white;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      margin-top: 20px;
      transition: transform 0.2s, opacity 0.3s;
    }

    button:hover:not(:disabled) {
      transform: scale(1.04);
      opacity: 0.95;
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .result {
      display: none;
      animation: fadeIn 1s;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .score-card {
      background: rgba(30, 40, 70, 0.7);
      padding: 20px;
      border-radius: 16px;
      margin: 15px 0;
    }

    .total-score {
      font-size: 2.2rem;
      color: #ffd700;
      margin: 20px 0;
      font-weight: bold;
    }

    .recommendation {
      margin-top: 25px;
      padding: 18px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 14px;
      font-style: italic;
      color: #c6e7ff;
    }
  </style>
</head>
<body>

  <!-- –ó–≤—ë–∑–¥–Ω–æ–µ –Ω–µ–±–æ -->
  <div class="stars" id="stars"></div>

  <div class="container" id="gameContainer">
    <h1>üß≠ –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–∞—Å</h1>
    <div class="subtitle">–û—Ç–≤–µ—Ç—å—Ç–µ —á–µ—Å—Ç–Ω–æ ‚Äî –∏ —É–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±–∞–ª–∞–Ω—Å</div>

    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>

    <div class="question" id="question">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <div class="options" id="options"></div>
    <button id="nextBtn" disabled>–î–∞–ª–µ–µ</button>

    <div class="result" id="result"></div>
  </div>

  <script>
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–≤—ë–∑–¥
    const starsContainer = document.getElementById('stars');
    for (let i = 0; i < 150; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.left = `${Math.random() * 100}%`;
      star.style.top = `${Math.random() * 100}%`;
      star.style.width = `${Math.random() * 3}px`;
      star.style.height = star.style.width;
      star.style.setProperty('--duration', `${2 + Math.random() * 4}s`);
      starsContainer.appendChild(star);
    }

    // –í–æ–ø—Ä–æ—Å—ã –∏ –±–∞–ª–ª—ã
    const levels = [
      {
        q: "–ö–æ–≥–¥–∞ –≤—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç–µ—Å—å —Å —Ç—Ä—É–¥–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–µ–π, –≤—ã —á–∞—â–µ:",
        opts: [
          { text: "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é, —á—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –∏ –∏—â—É —Ä–µ—à–µ–Ω–∏–µ", calm: 2, aware: 3, energy: 1 },
          { text: "–û–±—Ä–∞—â–∞—é—Å—å –∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫ –±–ª–∏–∑–∫–∏–º", calm: 1, empathy: 3, aware: 1 },
          { text: "–ü—ã—Ç–∞—é—Å—å –æ—Ç–≤–ª–µ—á—å—Å—è –∏–ª–∏ –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã", calm: 0, energy: 0, aware: -1 },
          { text: "–†–µ–∞–≥–∏—Ä—É—é —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ—Ç–æ–º —É—Å–ø–æ–∫–∞–∏–≤–∞—é—Å—å", calm: -1, aware: 1, empathy: 1 }
        ]
      },
      {
        q: "–ö–∞–∫ –≤—ã —Ä–µ–∞–≥–∏—Ä—É–µ—Ç–µ –Ω–∞ —á—É–∂—É—é –±–æ–ª—å?",
        opts: [
          { text: "–ì–ª—É–±–æ–∫–æ —Å–æ–ø–µ—Ä–µ–∂–∏–≤–∞—é –∏ —Ö–æ—á—É –ø–æ–º–æ—á—å", empathy: 3, calm: 1 },
          { text: "–°–æ—á—É–≤—Å—Ç–≤—É—é, –Ω–æ –¥–µ—Ä–∂—É –¥–∏—Å—Ç–∞–Ω—Ü–∏—é", empathy: 2, calm: 2 },
          { text: "–ù–µ –∑–Ω–∞—é, —á—Ç–æ —Å–∫–∞–∑–∞—Ç—å ‚Äî —á—É–≤—Å—Ç–≤—É—é –Ω–µ–ª–æ–≤–∫–æ—Å—Ç—å", empathy: 0, aware: 1 },
          { text: "–°—Ç–∞—Ä–∞—é—Å—å –±—ã—Å—Ç—Ä–æ ¬´–ø–æ—á–∏–Ω–∏—Ç—å¬ª —Å–∏—Ç—É–∞—Ü–∏—é", empathy: 1, energy: 2 }
        ]
      },
      {
        q: "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã –∑–∞–º–µ—á–∞–µ—Ç–µ —Å–≤–æ–∏ —ç–º–æ—Ü–∏–∏ –≤ –º–æ–º–µ–Ω—Ç–µ?",
        opts: [
          { text: "–ü–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ ‚Äî —è –≤ –ø–æ—Ç–æ–∫–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏", aware: 3, calm: 2 },
          { text: "–ò–Ω–æ–≥–¥–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Å–∏–ª—å–Ω–æ –ø–µ—Ä–µ–∂–∏–≤–∞—é", aware: 2, calm: 1 },
          { text: "–†–µ–¥–∫–æ ‚Äî –∑–∞–º–µ—á–∞—é —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º", aware: 0, calm: 0 },
          { text: "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞ ‚Äî –∂–∏–≤—É –Ω–∞ –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–µ", aware: -1, energy: -1 }
        ]
      },
      {
        q: "–ß—Ç–æ –¥–∞—ë—Ç –≤–∞–º —ç–Ω–µ—Ä–≥–∏—é?",
        opts: [
          { text: "–û–±—â–µ–Ω–∏–µ —Å –±–ª–∏–∑–∫–∏–º–∏", empathy: 2, energy: 2 },
          { text: "–¢–∏—à–∏–Ω–∞ –∏ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ", calm: 3, aware: 2 },
          { text: "–ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –∏ –≤—ã–∑–æ–≤—ã", energy: 3, aware: 1 },
          { text: "–û—Ç–¥—ã—Ö –±–µ–∑ –ø–ª–∞–Ω–æ–≤", calm: 2, energy: 2 }
        ]
      },
      {
        q: "–ö–∞–∫ –≤—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ —Å–≤–æ–∏–º –æ—à–∏–±–∫–∞–º?",
        opts: [
          { text: "–í–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é –∫–∞–∫ —É—Ä–æ–∫", aware: 3, calm: 2 },
          { text: "–ü–µ—Ä–µ–∂–∏–≤–∞—é, –Ω–æ –æ—Ç–ø—É—Å–∫–∞—é", calm: 1, empathy: 1 },
          { text: "–î–æ–ª–≥–æ –∫–æ—Ä—é —Å–µ–±—è", calm: -2, aware: -1 },
          { text: "–°—Ç–∞—Ä–∞—é—Å—å –∑–∞–±—ã—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ", aware: 0, energy: -1 }
        ]
      },
      {
        q: "–ú–æ–∂–µ—Ç–µ –ª–∏ –≤—ã —Å–∫–∞–∑–∞—Ç—å ¬´–Ω–µ—Ç¬ª, –Ω–µ —á—É–≤—Å—Ç–≤—É—è –≤–∏–Ω—ã?",
        opts: [
          { text: "–î–∞, —Å–ø–æ–∫–æ–π–Ω–æ –∏ —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–æ", calm: 3, aware: 2 },
          { text: "–ò–Ω–æ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç—Å—è", calm: 1, aware: 1 },
          { text: "–û—á–µ–Ω—å —Ç—Ä—É–¥–Ω–æ ‚Äî –±–æ—é—Å—å –æ–±–∏–¥–µ—Ç—å", empathy: 2, calm: -1 },
          { text: "–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞", calm: -2, energy: -2 }
        ]
      },
      {
        q: "–ö–∞–∫ –≤—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ—Å—å –ø–æ—Å–ª–µ —Å—Ç—Ä–µ—Å—Å–∞?",
        opts: [
          { text: "–ú–µ–¥–∏—Ç–∞—Ü–∏—è, –ø—Ä–æ–≥—É–ª–∫–∞, —Ç–∏—à–∏–Ω–∞", calm: 3, aware: 2 },
          { text: "–û–±—â–µ–Ω–∏–µ —Å –¥—Ä—É–∑—å—è–º–∏", empathy: 2, energy: 1 },
          { text: "–°–æ–Ω –∏–ª–∏ —Å–µ—Ä–∏–∞–ª—ã", energy: 2, calm: 1 },
          { text: "–ï–¥–∞ –∏–ª–∏ –ø–æ–∫—É–ø–∫–∏", energy: -1, aware: -1 }
        ]
      },
      {
        q: "–ß—Ç–æ –≤–∞–∂–Ω–µ–µ –¥–ª—è –≤–∞—Å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö?",
        opts: [
          { text: "–ì–ª—É–±–∏–Ω–∞ –∏ –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å", aware: 3, empathy: 2 },
          { text: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –∑–∞–±–æ—Ç–∞", empathy: 3, calm: 1 },
          { text: "–°–≤–æ–±–æ–¥–∞ –∏ –ª–∏—á–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ", calm: 3, aware: 2 },
          { text: "–í–µ—Å–µ–ª—å–µ –∏ —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è", energy: 3, empathy: 1 }
        ]
      },
      {
        q: "–ö–∞–∫ –≤—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –≤–∞–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è?",
        opts: [
          { text: "–°–ª—É—à–∞—é –∏–Ω—Ç—É–∏—Ü–∏—é –∏ —á—É–≤—Å—Ç–≤–∞", aware: 3, calm: 2 },
          { text: "–í–∑–≤–µ—à–∏–≤–∞—é –≤—Å–µ ¬´–∑–∞¬ª –∏ ¬´–ø—Ä–æ—Ç–∏–≤¬ª", aware: 2, calm: 2 },
          { text: "–°–æ–≤–µ—Ç—É—é—Å—å —Å –¥—Ä—É–≥–∏–º–∏", empathy: 2, aware: 1 },
          { text: "–î–µ–π—Å—Ç–≤—É—é –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ", energy: 2, calm: -1 }
        ]
      },
      {
        q: "–ß—Ç–æ –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ, –æ—Å—Ç–∞–≤–∞—è—Å—å –Ω–∞–µ–¥–∏–Ω–µ —Å —Å–æ–±–æ–π?",
        opts: [
          { text: "–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ —É–º–∏—Ä–æ—Ç–≤–æ—Ä–µ–Ω–∏–µ", calm: 3, aware: 3 },
          { text: "–õ—ë–≥–∫–æ–µ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ, –Ω–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ", calm: 2, empathy: 1 },
          { text: "–¢—Ä–µ–≤–æ–≥—É –∏–ª–∏ —Å–∫—É–∫—É", calm: -1, energy: -1 },
          { text: "–û–±–ª–µ–≥—á–µ–Ω–∏–µ ‚Äî –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ —Ç–∏—à–∏–Ω–∞!", calm: 2, energy: 2 }
        ]
      }
    ];

    let currentLevel = 0;
    let scores = { calm: 0, aware: 0, empathy: 0, energy: 0 };
    let selectedOption = null;

    const questionEl = document.getElementById('question');
    const optionsEl = document.getElementById('options');
    const nextBtn = document.getElementById('nextBtn');
    const progressFill = document.getElementById('progressFill');
    const resultEl = document.getElementById('result');
    const container = document.getElementById('gameContainer');

    function renderLevel() {
      const level = levels[currentLevel];
      questionEl.textContent = level.q;
      optionsEl.innerHTML = '';

      level.opts.forEach((opt, i) => {
        const div = document.createElement('div');
        div.className = 'option';
        div.textContent = opt.text;
        div.onclick = () => selectOption(div, opt);
        optionsEl.appendChild(div);
      });

      nextBtn.disabled = true;
      progressFill.style.width = `${((currentLevel) / levels.length) * 100}%`;
    }

    function selectOption(el, opt) {
      document.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
      el.classList.add('selected');
      selectedOption = opt;
      nextBtn.disabled = false;
    }

    function nextLevel() {
      // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤
      if (selectedOption) {
        scores.calm += Math.max(0, selectedOption.calm || 0);
        scores.aware += Math.max(0, selectedOption.aware || 0);
        scores.empathy += Math.max(0, selectedOption.empathy || 0);
        scores.energy += Math.max(0, selectedOption.energy || 0);
      }

      if (currentLevel < levels.length - 1) {
        currentLevel++;
        renderLevel();
      } else {
        showResult();
      }
    }

    function calculateTotalScore() {
      const maxPossible = levels.length * 3; // 10 —É—Ä–æ–≤–Ω–µ–π √ó 3 –º–∞–∫—Å
      const total = scores.calm + scores.aware + scores.empathy + scores.energy;
      return Math.min(100, Math.round((total / maxPossible) * 100));
    }

    function getRecommendation(score) {
      if (score >= 85) return "–í—ã –≤ –≥–∞—Ä–º–æ–Ω–∏–∏ —Å —Å–æ–±–æ–π. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –±–∞–ª–∞–Ω—Å–µ ‚Äî –≤—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç–µ –¥—Ä—É–≥–∏—Ö!";
      if (score >= 65) return "–£ –≤–∞—Å —Ö–æ—Ä–æ—à–∏–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç. –£–¥–µ–ª—è–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∑–æ–Ω–∞–º —Ä–æ—Å—Ç–∞ ‚Äî –∏ –≤—ã —Ä–∞—Å—Ü–≤–µ—Ç—ë—Ç–µ –µ—â—ë –±–æ–ª—å—à–µ.";
      if (score >= 45) return "–í—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–æ–∏—Å–∫–∞ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –¥—ã—Ö–∞–Ω–∏—è.";
      return "–í–∞—à–∞ –ø—Å–∏—Ö–æ—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è –∏—Å—Ç–æ—â–µ–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–π–¥–∏—Ç–µ –≤—Ä–µ–º—è –¥–ª—è —Å–µ–±—è ‚Äî –¥–∞–∂–µ 10 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å.";
    }

    function showResult() {
      const totalScore = calculateTotalScore();
      const rec = getRecommendation(totalScore);

      resultEl.innerHTML = `
        <h2 style="color:#ffd700">‚ú® –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
        <div class="total-score">${totalScore} / 100</div>

        <div class="score-card">
          <div>üåø –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ: ${scores.calm} / 30</div>
          <div>üí° –û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å: ${scores.aware} / 30</div>
          <div>‚ù§Ô∏è –≠–º–ø–∞—Ç–∏—è: ${scores.empathy} / 30</div>
          <div>üîã –≠–Ω–µ—Ä–≥–∏—è: ${scores.energy} / 30</div>
        </div>

        <div class="recommendation">¬´${rec}¬ª</div>

        <p style="margin-top:25px; font-size:0.9rem; color:#a0aec0;">
          üí¨ –≠—Ç–∞ –∏–≥—Ä–∞ ‚Äî –Ω–µ –¥–∏–∞–≥–Ω–æ–∑, –∞ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ. –ï—Å–ª–∏ –≤–∞–º —Ç—è–∂–µ–ª–æ ‚Äî –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–µ —Å –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º. –í—ã –∏–º–µ–µ—Ç–µ –ø—Ä–∞–≤–æ –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É.
        </p>
      `;
      resultEl.style.display = 'block';
      optionsEl.style.display = 'none';
      questionEl.style.display = 'none';
      nextBtn.style.display = 'none';
      document.querySelector('.progress-bar').style.display = 'none';
    }

    nextBtn.onclick = nextLevel;
    renderLevel();
  </script>

</body>
</html>
